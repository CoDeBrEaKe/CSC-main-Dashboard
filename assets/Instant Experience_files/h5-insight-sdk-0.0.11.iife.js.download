this["[name]"]=this["[name]"]||{},this["[name]"].js=function(e){"use strict";var t=function(){return(t=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function n(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function c(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((i=i.apply(e,t||[])).next())}))}function i(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,c=o.length;a<c;a++,r++)i[r]=o[a];return i}function o(e,t){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()===t}function a(e){return o(e,"object")}function c(e){return o(e,"string")}function u(e){var t={};return e.forEach((function(e){Object.keys(e).forEach((function(n){var i=e[n];null!=i&&(void 0!==t[n]&&""===i||(a(t[n])&&a(i)?t[n]=u([t[n],i]):t[n]=i))}))})),t}function s(){return Math.random().toString(16).replace(".","")}function d(e){var t=e.min,n=e.max,i=e.number;return Math.min(n,Math.max(t,i))}function l(e){var t,n=(void 0===e?{once:!1}:e).once,i=!1,r=[];return{on:function(e){n&&i?e(t):r.push(e)},emit:function(e){n&&i||(t=e,r.forEach((function(t){try{t(e)}catch(e){console.log("event handler failed",e)}})),i=!0)}}}var f=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},v="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},h="object"==typeof v&&v&&v.Object===Object&&v,p="object"==typeof self&&self&&self.Object===Object&&self,w=h||p||Function("return this")(),g=function(){return w.Date.now()},m=/\s/;var y=function(e){for(var t=e.length;t--&&m.test(e.charAt(t)););return t},_=/^\s+/;var b=function(e){return e?e.slice(0,y(e)+1).replace(_,""):e},x=w.Symbol,T=Object.prototype,E=T.hasOwnProperty,S=T.toString,k=x?x.toStringTag:void 0;var L=function(e){var t=E.call(e,k),n=e[k];try{e[k]=void 0;var i=!0}catch(e){}var r=S.call(e);return i&&(t?e[k]=n:delete e[k]),r},C=Object.prototype.toString;var I=function(e){return C.call(e)},O=x?x.toStringTag:void 0;var A=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":O&&O in Object(e)?L(e):I(e)};var R=function(e){return null!=e&&"object"==typeof e};var M=function(e){return"symbol"==typeof e||R(e)&&"[object Symbol]"==A(e)},j=/^[-+]0x[0-9a-f]+$/i,P=/^0b[01]+$/i,H=/^0o[0-7]+$/i,N=parseInt;var W=function(e){if("number"==typeof e)return e;if(M(e))return NaN;if(f(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=f(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=b(e);var n=P.test(e);return n||H.test(e)?N(e.slice(2),n?2:8):j.test(e)?NaN:+e},D=Math.max,q=Math.min;var B=function(e,t,n){var i,r,o,a,c,u,s=0,d=!1,l=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=i,o=r;return i=r=void 0,s=t,a=e.apply(o,n)}function p(e){return s=e,c=setTimeout(m,t),d?h(e):a}function w(e){var n=e-u;return void 0===u||n>=t||n<0||l&&e-s>=o}function m(){var e=g();if(w(e))return y(e);c=setTimeout(m,function(e){var n=t-(e-u);return l?q(n,o-(e-s)):n}(e))}function y(e){return c=void 0,v&&i?h(e):(i=r=void 0,a)}function _(){var e=g(),n=w(e);if(i=arguments,r=this,u=e,n){if(void 0===c)return p(u);if(l)return clearTimeout(c),c=setTimeout(m,t),h(u)}return void 0===c&&(c=setTimeout(m,t)),a}return t=W(t)||0,f(n)&&(d=!!n.leading,o=(l="maxWait"in n)?D(W(n.maxWait)||0,t):o,v="trailing"in n?!!n.trailing:v),_.cancel=function(){void 0!==c&&clearTimeout(c),s=0,i=u=r=c=void 0},_.flush=function(){return void 0===c?a:y(g())},_};var Y,J=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return f(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),B(e,t,{leading:i,maxWait:t,trailing:r})};function $(){return new Promise((function(e){if(window&&"loading"!==window.document.readyState)e();else{var t=setTimeout((function(){return e()}),3e3);window&&window.addEventListener("DOMContentLoaded",(function(){window.clearTimeout(t),e()}))}}))}function F(){return new Promise((function(e){if(window&&"complete"===window.document.readyState)return e();window.addEventListener("load",(function(){return e()}))}))}function X(){if(!window)return{pageWidth:0,pageHeight:0};var e=window.document,t=e.documentElement,n=e.body,i=e.querySelector("#app")||{},r=i.offsetWidth,o=void 0===r?0:r,a=i.offsetHeight,c=void 0===a?0:a,u=i.scrollHeight,s=void 0===u?0:u,d=i.scrollWidth,l=void 0===d?0:d;return{pageWidth:Math.max(t.offsetWidth,t.scrollWidth,n.offsetWidth,n.scrollWidth,o,l),pageHeight:Math.max(t.offsetHeight,t.scrollHeight,n.offsetHeight,n.scrollHeight,window.innerHeight,c,s)}}!function(e){e.SCROLL="scroll",e.CLICK="click"}(Y||(Y={}));function z(t){var n=t.track,i=t.events,r=t.context,o=t.pageInitTimestamp,a=i.onScroll,c=i.onClick,u=i.onClose,s=r.viewportWidth,l=r.viewportHeight,f=r.pageWidth,v=r.pageHeight,h=[],p=0,w=0,g=0,m=function(){if(!(h.length<=0)){var t=window?window.innerWidth:s,i=window?window.innerHeight:l;n({type:e.TrackType.TRACK,event:e.TrackEvent.RECORD,properties:{context:{deviceInfo:{viewpointWidth:t,viewpointHeight:i},initTimestamp:o,timestamp:Date.now()-o},events:h}}),h=[]}},y=J(m,3e3),_=J((function(){var e=h[h.length-1],t=h[h.length-2];if(e&&t&&e.type===Y.SCROLL&&t.type===Y.SCROLL&&e.y===t.y&&e.y===w)e.time=Date.now()-o;else{var n=window?X():{pageWidth:f,pageHeight:Math.max(v,g)},i=n.pageWidth,r=n.pageHeight,a=window?window.innerHeight:l;h.push({type:Y.SCROLL,x:p,y:d({number:w,min:0,max:Math.max(0,r-a)}),width:i,height:Math.max(w,r),target:"document",time:Date.now()-o})}}),500),b=setInterval(_,750),x=setInterval(y,15e3);setTimeout((function(){clearInterval(x)}),6e4);a((function(e){var t=e.scrollLeft,n=e.scrollTop,i=e.dynamicHeight;p=t,w=n,i&&(g=i),_(),y()})),c((function(e){var t=e.layerX,n=void 0===t?0:t,i=e.layerY,r=void 0===i?0:i,a=e.clientX,c=e.clientY,u=e.width,s=void 0===u?0:u,d=e.height,l=void 0===d?0:d,f=e.target,v=void 0===f?"":f,g=e.brickIndex,y=void 0===g?"":g;h.push({type:Y.CLICK,x:n,y:r,cx:a,cy:c,px:a+p,py:c+w,width:s,height:l,target:v,brickIndex:y,time:Date.now()-o}),m()})),u((function(){clearInterval(b),clearInterval(x),_(),m()})),_(),y()}function K(t){var n=t.track,i=t.events,r=t.context,o=t.pageInitTimestamp,a=(i.onScroll,i.onClick),c=i.onClose,u=r.viewportWidth,s=r.viewportHeight,d=(r.pageWidth,r.pageHeight,[]),l=function(){if(!(d.length<=0)){var t=window?window.innerWidth:u,i=window?window.innerHeight:s;n({type:e.TrackType.TRACK,event:e.TrackEvent.RECORD,properties:{context:{deviceInfo:{viewpointWidth:t,viewpointHeight:i},initTimestamp:o,timestamp:Date.now()-o},events:d}}),d=[]}};a((function(e){var t=e.layerX,n=void 0===t?0:t,i=e.layerY,r=void 0===i?0:i,a=e.clientX,c=e.clientY,u=e.width,s=void 0===u?0:u,f=e.height,v=void 0===f?0:f,h=e.target,p=void 0===h?"":h,w=e.brickIndex,g=void 0===w?"":w;d.push({type:Y.CLICK,x:n,y:r,cx:a,cy:c,px:a,py:c,width:s,height:v,target:p,brickIndex:g,time:Date.now()-o}),l()})),c((function(){l()}))}var U,V,G;function Q(e){return void 0===e&&(e=window?window.location.search:""),c(e)&&-1!==e.indexOf("?")?e.substring(e.lastIndexOf("?")+1).split("&").reduce((function(e,t){var n=t.split("="),i=n[0],r=n[1];return e[i]=r,e}),{}):{}}function Z(e){return e.replace(/^https?:\/\//,"").split("?")[0].replace(/\/$/,"")}function ee(e){var t=e.url,n=e.type,i=e.pattern,r=void 0===i?"":i;return n===U.PATH?Z(t):n===U.FULL_URL?t.replace(/^https?:\/\//,""):n===U.PATTERN?function(e){var t=e.url,n=e.pattern,i=Z(t).replace(location.host,"").replace(/^\//,""),r=Q(t),o=Z(n).replace("{host}",location.hostname).replace("{path}",i),a=Q(n),c=Object.keys(r).filter((function(e){return"{id}"===a[e]})).map((function(e){return e+"="+r[e]})).join("&");return""+o+(c.length>0?"?"+c:"")}({url:t,pattern:r}):t}!function(e){e[e.PATH=1]="PATH",e[e.FULL_URL=2]="FULL_URL",e[e.PATTERN=3]="PATTERN"}(U||(U={})),(V=e.TrackType||(e.TrackType={})).PAGE="page",V.TRACK="track",(G=e.TrackEvent||(e.TrackEvent={})).CLICK="click",G.PAGE="page",G.ATTENTION="attention",G.MAX_SCROLL="max-scroll",G.METRICS="metrics",G.RECORD="record",G.TIME_ON_PAGE="time-on-page",G.JSB_ERROR="jsb_error",G.JSB_TIMEOUT="jsb_timeout",G.JSB_TIME="jsb_time";var te={},ne={type:U.PATH};function ie(e,t){te[e]=t}function re(e){var n,i=e.outerContext,r=e.context,o={},c=i.extraMap,u=i.scene,s=r.extraMap;if(a(s)&&s.page_id)return o;if(Number(u)>=2){var d=ee(t({url:window?window.location.href:null===(n=null==r?void 0:r.page)||void 0===n?void 0:n.url},ne));a(c)?c.page_id||(o.extraMap=t(t({},c),{page_id:d})):o.extraMap={page_id:d}}return o}function oe(e){Object.assign(ne,e)}function ae(n){var i=n.context,r=n.sendLog,o=u([{action_type:"action",environment:"unknown",scene:"",unique_id:"",library:{name:"insight-sdk.js",version:"0.0.11"},app:{id:"",name:"",version:""},network:"",viewportWidth:0,viewportHeight:0,pageWidth:0,pageHeight:0,screen:{width:0,height:0,dpr:0},ua:"unknown",page:{path:"",referrer:"",search:"",hash:"",title:"",url:""},ad:{ad_id:"",cid:"",rit:"",convert_id:"",req_id:"",log_extra:""},isAppLog:"1",extraMap:""},i]),a=l({once:!0}),f=a.on,v=a.emit,h=l(),p=h.on,w=h.emit,g=l({once:!0}),m=g.on,y=g.emit,_=l(),b=_.on,x=_.emit,T=l({once:!0}),E=T.on,S=T.emit,k=Date.now()+"-"+s()+"-"+s()+"-"+s(),L={onInit:f,onScroll:p,onLoad:m,onClick:b,onClose:E},C=function(n){var i=n.type,a=void 0===i?"track":i,u=n.event,s=void 0===u?"":u,d=n.properties,l=[];for(var f in e.TrackEvent)l.push(e.TrackEvent[f]);l.includes(s)||(d={custom_data:c(d)?d:JSON.stringify(d)});var v={type:a,event:s,properties:d,sessionId:k,pageviewId:k,timestamp:Date.now(),ad:o.ad,context:t(t(t({},o),te),re({context:o,outerContext:te})),insight_sdk_open_type:window?window._insight_sdk_open_type:""};delete v.context.ad,r({label:"track",tag:"tetris_track",category:"tetris_log",extra:JSON.stringify({tetris_log:JSON.stringify(v)})})};return f((function(){var n=Date.now()-d({min:0,max:3e4,number:Math.round(window?performance.now():0)}),i={track:C,context:o,events:L,pageInitTimestamp:n};!function(t){var n=t.track,i=t.context;n({type:e.TrackType.PAGE,event:e.TrackEvent.PAGE,properties:i.page})}(i),function(n){var i=n.track;(0,n.events.onLoad)((function(n){var r=n.load,o=n.extra,a=void 0===o?{}:o;i({type:e.TrackType.TRACK,event:e.TrackEvent.METRICS,properties:t(t({},a),{load:d({number:r,min:0,max:3e4})})})}))}(i),"action"===o.action_type?z(i):K(i),console.log("<-------------- Insight SDK Init 0.0.11 -------------\x3e"),setTimeout((function(){return S({})}),6e5)})),{emitInitEvent:v,emitScrollEvent:w,emitLoadEvent:y,emitClickEvent:x,emitCloseEvent:S,track:C}}function ce(e){return"string"==typeof e&&/^(\{|\[)/.test(e)}function ue(e,t){void 0===t&&(t=function(){});try{return function(e){return JSON.parse(e)}(e)}catch(e){return void t(e)}}function se(e){return void 0===e&&(e={}),ce(e)&&(e=ue(e)),Object.keys(e).reduce((function(t,n){var i=e[n];if(t[n]=i,ce(i)){var r=ue(i)||{};t[n]=se(r)}else"number"==typeof i&&(t[n]=String(i));return t}),{})}function de(e){var t="string"==typeof e.className?function(e,t){void 0===t&&(t=" ");var n=new RegExp("^"+t+"|"+t+"$","g");return e.replace(n,"")}(e.className.replace(/\s+/," ")):"";return""!==t?t.split(" "):[]}function le(e){var t=[];try{for(;e&&1==e.nodeType;){var n="",i=e.getAttribute("id"),r=!1;try{r=i&&1==document.querySelectorAll('[id="'+i+'"]').length}catch(e){}if(r){n+="#"+i,t.unshift(n);break}n+=e.nodeName.toLowerCase();var o="",a=e,c=1,u=e.parentNode;if(u&&u.nodeName&&"body"===u.nodeName.toLowerCase()){var s=de(e);o=s.length?"."+s.join("."):""}var d=!1;try{d=""!=o&&1==document.querySelectorAll("body > "+n+o).length}catch(e){}if(d)n+=o;else{for(;a=a.previousElementSibling;)a.nodeName.toLowerCase()==n&&c++;1!=c&&(n+=":["+c+"]")}if(t.unshift(n),!e.parentNode)return"";e=e.parentNode}}catch(e){}return t.join(" > ").replace("html > body > ","> ")}function fe(e){var t=0;try{for(var n=e;n&&!((t+=1)>30);){var i=n.getAttribute("brick-index");if(c(i)&&i.length>0)return i;n=n.parentElement}return""}catch(e){return""}}function ve(e,t){var n;null===(n=null===window||void 0===window?void 0:window.InsightSDK)||void 0===n||n.track(e,t)}function he(){return n(this,void 0,Promise,(function(){var e,t,n,r,o,a,c,u,s,d,l,f;return i(this,(function(i){switch(i.label){case 0:return[4,je({method:"appInfo"})];case 1:return e=i.sent(),t=e.aid,n=void 0===t?"":t,r=e.appName,o=void 0===r?"":r,a=e.appVersion,c=void 0===a?"":a,u=e.netType,s=void 0===u?"":u,d=e.device_id,l=void 0===d?"":d,f=e.user_id,[2,{id:n,name:o,version:c,net_type:s,device_id:l,user_id:void 0===f?"":f}]}}))}))}var pe=["joke_essay","Joke"],we=["live_stream"],ge=["aweme"],me=["TTAD"],ye=r(["News","NewsArticle","NewsSocial","Explore","NewsArticle","NewsInHouse","aweme","open_news"],["Video","VideoInHouse","VideoArticle"],pe,we,ge,me),_e=new RegExp("("+pe.join("|")+")","i"),be=new RegExp("("+we.join("|")+")","i"),xe=new RegExp("("+ge.join("|")+")","i"),Te=new RegExp("("+me.join("|")+")","i"),Ee=window?window.navigator.userAgent:"",Se=ye.some((function(e){return Ee.indexOf(e)>-1})),ke=/open_news/i.test(Ee),Le=["sg.immers.page","ad.tiktok.com","ad-instantpage-sg.tiktokv.com","ad-instantpage-va.tiktokv.com"].indexOf(location.hostname)>-1,Ce=(_e.test(Ee),be.test(Ee),xe.test(Ee)),Ie=(Te.test(Ee),/windows phone/i.test(Ee)?"Windows Phone":/android/i.test(Ee)?"android":/iPad|iPhone|iPod/.test(Ee)&&!(null===window||void 0===window?void 0:window.MSStream)?"ios":"pc"),Oe=Se||!("pc"===Ie);function Ae(){return c(te.scene)?te.scene:Le?"0":ke?"1":"-1"}var Re={};function Me(t){var n=t.name,i=t.jsbResponse,r=t.time;(function(e){return void 0===e||!e||(!a(e)||Object.keys(e).length<=0)})(i)&&ve(e.TrackEvent.JSB_ERROR,{name:n,time:r,response:i})}function je(t){var r=t.method,o=t.params,a=void 0===o?{}:o,c=t.timeout,u=void 0===c?3e3:c;return n(this,void 0,Promise,(function(){return i(this,(function(t){return void 0!==Re[r]?[2,Re[r]]:Oe&&window.ToutiaoJSBridge&&window.ToutiaoJSBridge.call?[2,new Promise((function(t){var n,i=setTimeout((function(){Re[r]={},t({}),ve(e.TrackEvent.JSB_TIMEOUT,{name:r,time:u})}),u),o=Date.now();window&&(null===(n=null===window||void 0===window?void 0:window.ToutiaoJSBridge)||void 0===n||n.call(r,a,(function(n){void 0===n&&(n={}),clearTimeout(i),Re[r]=se(n);var a=Re[r];t(a),ve(e.TrackEvent.JSB_TIME,{name:r,time:Date.now()-o}),Me({name:r,jsbResponse:a,time:Date.now()-o})})))}))]:[2,{}]}))}))}var Pe=/(\w+)\[(\d+)\]/;function He(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}}var Ne=se(function(e){if("string"!=typeof e)return{};if(""==(e=e.trim()))return{};"?"==e[0]&&(e=e.slice(1));for(var t={},n=e.split("&"),i=0;i<n.length;i++){var r=n[i].split("="),o=He(r[0]),a=Pe.exec(o);a?(t[a[1]]=t[a[1]]||[],t[a[1]][a[2]]=He(r[1])):t[r[0]]=null==r[1]?"":He(r[1])}return t}(location.search)),We=Ne._toutiao_params||{},De=We.cid,qe=We.log_extra,Be=void 0===qe?{}:qe,Ye=We.req_id,Je=We.rit,$e=JSON.stringify(Be),Fe={ad_id:Ne._tt_ad_id||Ne.aid||Ne.ad_id||Ne.adid||"",cid:Ne.cid||Ne.creativeid||De||"",req_id:Ne.req_id||Ye||Be.req_id||"",rit:Je||Be.rit||"",convert_id:Be.convert_id||"",log_extra:"{}"===$e?"":$e};function Xe(){return n(this,void 0,Promise,(function(){var e,t,n,r,o,a,c,s,d,l,f,v,h,p;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,je({method:"adInfo"})];case 1:return e=i.sent(),t=e.cid,n=void 0===t?"":t,r=e.log_extra,a=(o=void 0===r?{}:r).ad_id,c=void 0===a?"":a,s=o.req_id,d=void 0===s?"":s,l=o.rit,f=void 0===l?"":l,v=o.convert_id,h=void 0===v?"":v,p=JSON.stringify(o),[2,u([Fe,{ad_id:c,cid:n,req_id:d,rit:f,convert_id:h,log_extra:"{}"===p?"":p}])];case 2:return i.sent(),[2,{}];case 3:return[2]}}))}))}function ze(){var e=window.document,t=window.location,n=e.referrer,i=e.title;return{path:t.pathname,referrer:n,search:t.search,hash:t.hash,title:i,url:t.href}}function Ke(){return n(this,void 0,Promise,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,je({method:"getWebViewInfo"})];case 1:return[2,e.sent()]}}))}))}function Ue(){var e=this;return new Promise((function(t,r){return n(e,void 0,void 0,(function(){var e,n,r,o;return i(this,(function(i){switch(i.label){case 0:return Ce?[4,Ke()]:(t(),[2]);case 1:return e=i.sent(),n=e.preloadType,r=e.appearanceState,"1"!==n||"2"===r?(t(),[2]):(window&&(null===(o=null===window||void 0===window?void 0:window.ToutiaoJSBridge)||void 0===o||o.on("webViewDidShow",(function(){t()}))),[2])}}))}))}))}function Ve(){var e;return n(this,void 0,Promise,(function(){var t,r,o,a,c,u,s,d,l,f,v,h,p,w,g,m,y,_,b,x;return i(this,(function(T){switch(T.label){case 0:return[4,Promise.all([he(),Xe(),Ue(),$()])];case 1:return t=T.sent(),r=t[0],o=t[1],a=r.id,c=r.name,u=r.version,r.device_id,r.user_id,s=r.net_type,d=o.ad_id,l=o.cid,f=o.rit,v=o.convert_id,h=o.req_id,p=o.log_extra,w=window?window.innerWidth:0,g=window?window.innerHeight:0,(null===(e=null===window||void 0===window?void 0:window.document)||void 0===e?void 0:e.body)&&X().pageHeight<=g?[4,F()]:[3,3];case 2:T.sent(),T.label=3;case 3:return m=X(),y=m.pageWidth,_=m.pageHeight,[4,n(void 0,void 0,Promise,(function(){var e,t,n,r;return i(this,(function(i){switch(i.label){case 0:return Se?[2,!0]:[4,he()];case 1:return e=i.sent(),t=e.id,n=e.name,r=e.version,[2,!!(t||n||r)]}}))}))];case 4:b=T.sent(),"";try{x=JSON.parse(p||"{}"),x.e2e_test_flag||""}catch(e){console.warn("[parse log_extra error]",e)}return[2,{environment:"h5",app:{id:a,name:c,version:u},network:s,viewportWidth:w,viewportHeight:g,pageWidth:y,pageHeight:_,screen:{width:screen.width,height:screen.height,dpr:window.devicePixelRatio||1},ua:navigator.userAgent,page:ze(),scene:Ae(),ad:{ad_id:d,cid:l,rit:f,convert_id:v,req_id:h,log_extra:p},isAppLog:b?"1":"0"}]}}))}))}function Ge(e){}function Qe(e){var t=e.label,r=e.category,o=e.tag,a=e.extra;return n(this,void 0,void 0,(function(){return i(this,(function(e){return console.log("block sendlog",{label:t,category:r,tag:o,extra:a}),[2]}))}))}function Ze(){var e,t;console.log("hideScrollBar"),e="\n    ::-webkit-scrollbar {\n       width: 2px;\n       height: 2px;\n       font-size: 0;\n       background-color: #fff;\n    }\n    ",(t=document.createElement("style")).innerHTML=e,document.head.appendChild(t)}function et(e){var t=e.element,n=e.rect,i=e.win;if(!t||!window)return!1;var r=n.width,o=n.height,a=n.left,c=n.top,u=n.bottom,s=n.right;if(r<=0||o<=0)return!1;var d=i.getComputedStyle(t);return"none"!==d.display&&("visible"===d.visibility&&(!(Number(d.opacity)<.1)&&(!(c>window.innerHeight||a>window.innerWidth)&&!(u<0||s<0))))}function tt(e){var t=e.targetList,n=e.hasAbsolutePoint,i={};return t.forEach((function(e){var t=document.querySelector(e.replace(/#(\d\S+)/g,'[id="$1"]'));if(t){var n=t.getBoundingClientRect();et({element:t,rect:n,win:window})&&(i[e]=n)}})),{targetRectMap:i,fixedRectList:n?Array.from(document.querySelectorAll("*")).filter((function(e){return"fixed"===getComputedStyle(e).position})).map((function(e){return e.getBoundingClientRect()})).filter((function(e){return e.width>0&&e.height>0})):[]}}function nt(e){for(var t={},n=0;n<e.attributes.length;n++){var i=e.attributes[n],r=i.nodeName,o=i.nodeValue;t[r]=o}return{tagName:e.tagName,attribute:t}}function it(e){var t=e.targetList,n=e.hasAbsolutePoint,i=e.messageId,r=X(),o=r.pageWidth,a=r.pageHeight;return{type:"heatmap-page",messageId:i,scene:Ae(),data:{width:o,height:a,time:Date.now(),scrollTop:window.pageYOffset,elementMap:tt({targetList:t,hasAbsolutePoint:n})}}}function rt(){return n(this,void 0,void 0,(function(){var e,t,r,o,a,c,u=this;return i(this,(function(s){return window.self===window.top||(e=window.parent,t=[],r=!1,o=!1,a="",c=function(){return n(u,void 0,void 0,(function(){var n,r;return i(this,(function(i){switch(i.label){case 0:return[4,$()];case 1:return i.sent(),function(e){var t=e.document.querySelectorAll("*");Array.from(t).forEach((function(t){"hidden"===e.getComputedStyle(t).overflowX&&(t.style.overflowX="visible")}))}(window),Ze(),window.addEventListener("scroll",(function(){e.postMessage(it({messageId:a,targetList:t,hasAbsolutePoint:o}),"*")}),{passive:!0,capture:!0}),window.addEventListener("mousemove",J((function(t){if(t.target){var n=t.target,i=le(t.target),r=n.getBoundingClientRect(),o=r.left,c=r.top,u=r.width,s=r.height;e.postMessage({messageId:a,type:"heatmap-mousemove",data:{left:o,top:c,width:u,height:s,targetSelector:i,triggerDomElement:nt(n),clientY:t.clientY}},"*")}}),100)),n=new MutationObserver(B((function(){e.postMessage({messageId:a,type:"heatmap-mutation-observer",data:tt({targetList:t,hasAbsolutePoint:o})},"*")}),200,{maxWait:200})),r=window.document.body,n.observe(r,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),[2]}}))}))},window.addEventListener("message",(function(n){var i=n.data;if(i&&i.type){var u=i.type,s=i.data,d=i.messageId;if("$mountHeatmapEvent"===u){t=s.targetList,o=s.hasAbsolutePoint,a=d,r||(r=!0,c());var l=it({messageId:a,targetList:t,hasAbsolutePoint:o});e.postMessage(l,"*")}}}))),[2]}))}))}var ot,at,ct=function(e){return window.requestIdleCallback=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},new Promise((function(t){return window.requestIdleCallback(t,{timeout:e})}))};function ut(e){return n(this,void 0,Promise,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,null==ot?void 0:ot.html2canvas(e,{scrollY:-window.scrollY,logging:!1,useCORS:!0})];case 1:return[2,n.sent().toDataURL("image/png")];case 2:return t=n.sent(),console.error(e,t,"组件转图片失败"),[2,""];case 3:return[2]}}))}))}function st(e){return n(this,void 0,Promise,(function(){var n,r,o;return i(this,(function(i){switch(i.label){case 0:return!(n=document.querySelector((a=e.target,c=a,">"===a[0]&&(c="html > body "+c),c=(c=(c=(c=c.replace(/:(\d+)/g,":nth-of-type($1)")).replace(/:\[(\d+)]/g,":nth-of-type($1)")).replace(/#(\d\S+)/g,'[id="$1"]')).replace(/#app > div:nth-of-type\(\d+\)/,"#app > div"))))||e.isFixed?[2,t(t({},e),{base64:"",width:0,height:0})]:(r="",function(e){var t,n=e.parentElement;return(null===(t=null==n?void 0:n.className)||void 0===t?void 0:t.indexOf)&&n.className.indexOf("phone_agreement_link_wrapper")>=0||0===e.clientWidth}(n)?(o="",[3,3]):[3,1]);case 1:return[4,ut(n)];case 2:o=i.sent(),i.label=3;case 3:return r=o,[2,t(t({},e),{base64:r,width:n.clientWidth,height:n.clientHeight})]}var a,c}))}))}function dt(e,t,r){return n(this,void 0,void 0,(function(){var n;return i(this,(function(i){switch(i.label){case 0:return t>=e.length?[2]:at.timeRemaining&&at.timeRemaining()<=1?[4,ct(50)]:[3,2];case 1:at=i.sent(),i.label=2;case 2:return[4,st(e[t])];case 3:return n=i.sent(),r.push(n),t<e.length-1?[4,dt(e,t+1,r)]:[3,5];case 4:i.sent(),i.label=5;case 5:return[2,r]}}))}))}function lt(e){var t=e.messageId,r=e.targetList;return n(this,void 0,void 0,(function(){var e;return i(this,(function(n){switch(n.label){case 0:return[4,ct(50)];case 1:return at=n.sent(),[4,dt(r,0,[])];case 2:return e=n.sent(),[2,{type:"heatmap-get-data",messageId:t,data:e}]}}))}))}var ft,vt=function(e){if(!f(e))return!1;var t=A(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},ht=w["__core-js_shared__"],pt=(ft=/[^.]+$/.exec(ht&&ht.keys&&ht.keys.IE_PROTO||""))?"Symbol(src)_1."+ft:"";var wt=function(e){return!!pt&&pt in e},gt=Function.prototype.toString;var mt=function(e){if(null!=e){try{return gt.call(e)}catch(e){}try{return e+""}catch(e){}}return""},yt=/^\[object .+?Constructor\]$/,_t=Function.prototype,bt=Object.prototype,xt=_t.toString,Tt=bt.hasOwnProperty,Et=RegExp("^"+xt.call(Tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var St=function(e){return!(!f(e)||wt(e))&&(vt(e)?Et:yt).test(mt(e))};var kt=function(e,t){return null==e?void 0:e[t]};var Lt=function(e,t){var n=kt(e,t);return St(n)?n:void 0},Ct=Lt(Object,"create");var It=function(){this.__data__=Ct?Ct(null):{},this.size=0};var Ot=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},At=Object.prototype.hasOwnProperty;var Rt=function(e){var t=this.__data__;if(Ct){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return At.call(t,e)?t[e]:void 0},Mt=Object.prototype.hasOwnProperty;var jt=function(e){var t=this.__data__;return Ct?void 0!==t[e]:Mt.call(t,e)};var Pt=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ct&&void 0===t?"__lodash_hash_undefined__":t,this};function Ht(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Ht.prototype.clear=It,Ht.prototype.delete=Ot,Ht.prototype.get=Rt,Ht.prototype.has=jt,Ht.prototype.set=Pt;var Nt=Ht;var Wt=function(){this.__data__=[],this.size=0};var Dt=function(e,t){return e===t||e!=e&&t!=t};var qt=function(e,t){for(var n=e.length;n--;)if(Dt(e[n][0],t))return n;return-1},Bt=Array.prototype.splice;var Yt=function(e){var t=this.__data__,n=qt(t,e);return!(n<0)&&(n==t.length-1?t.pop():Bt.call(t,n,1),--this.size,!0)};var Jt=function(e){var t=this.__data__,n=qt(t,e);return n<0?void 0:t[n][1]};var $t=function(e){return qt(this.__data__,e)>-1};var Ft=function(e,t){var n=this.__data__,i=qt(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};function Xt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Xt.prototype.clear=Wt,Xt.prototype.delete=Yt,Xt.prototype.get=Jt,Xt.prototype.has=$t,Xt.prototype.set=Ft;var zt=Xt,Kt=Lt(w,"Map");var Ut=function(){this.size=0,this.__data__={hash:new Nt,map:new(Kt||zt),string:new Nt}};var Vt=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Gt=function(e,t){var n=e.__data__;return Vt(t)?n["string"==typeof t?"string":"hash"]:n.map};var Qt=function(e){var t=Gt(this,e).delete(e);return this.size-=t?1:0,t};var Zt=function(e){return Gt(this,e).get(e)};var en=function(e){return Gt(this,e).has(e)};var tn=function(e,t){var n=Gt(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};function nn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}nn.prototype.clear=Ut,nn.prototype.delete=Qt,nn.prototype.get=Zt,nn.prototype.has=en,nn.prototype.set=tn;var rn=nn;var on=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var an=function(e){return this.__data__.has(e)};function cn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new rn;++t<n;)this.add(e[t])}cn.prototype.add=cn.prototype.push=on,cn.prototype.has=an;var un=cn;var sn=function(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1};var dn=function(e){return e!=e};var ln=function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1};var fn=function(e,t,n){return t==t?ln(e,t,n):sn(e,dn,n)};var vn=function(e,t){return!!(null==e?0:e.length)&&fn(e,t,0)>-1};var hn=function(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1};var pn=function(e,t){return e.has(t)},wn=Lt(w,"Set");var gn=function(){};var mn=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},yn=wn&&1/mn(new wn([,-0]))[1]==1/0?function(e){return new wn(e)}:gn;var _n=function(e,t,n){var i=-1,r=vn,o=e.length,a=!0,c=[],u=c;if(n)a=!1,r=hn;else if(o>=200){var s=t?null:yn(e);if(s)return mn(s);a=!1,r=pn,u=new un}else u=t?[]:c;e:for(;++i<o;){var d=e[i],l=t?t(d):d;if(d=n||0!==d?d:0,a&&l==l){for(var f=u.length;f--;)if(u[f]===l)continue e;t&&u.push(l),c.push(d)}else r(u,l,n)||(u!==c&&u.push(l),c.push(d))}return c};var bn,xn=function(e){return e&&e.length?_n(e):[]};!function(e){e.a="a",e.input="input",e.select="select"}(bn||(bn={}));var Tn=["click","touchstart","touchend"],En=[bn.a,bn.input,bn.select],Sn=window&&window.Set?new Set:[],kn=function(){var e=HTMLElement.prototype.addEventListener;HTMLElement.prototype.addEventListener=function(t,n,i){return function(e){var t=e.type,n=e.triggerElement;try{Tn.includes(t)&&Sn.add(n)}catch(e){console.error(e)}}({type:t,triggerElement:this,listener:n}),e.call(this,t,n,i)}},Ln=function(){window&&window.self===window.top||void 0!==Q().iframe_analysis&&(kn(),n(void 0,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,F()];case 1:return e.sent(),function(){for(var e=0,t=En;e<t.length;e++)for(var n=t[e],i=0,r=Array.from(document.querySelectorAll(n));i<r.length;i++){var o=r[i];Sn.add(o)}}(),Array.from(document.querySelectorAll("*")).filter((function(e){return Object.keys(e).filter((function(e){return e.includes("__reactEventHandlers")})).some((function(t){var n=e[t],i=n.onClick,r=n.onTouchStart,o=n.onTouchEnd;return i||r||o}))})).forEach((function(e){Sn.add(e)})),[2]}}))})))};var Cn,In=function(e){var t=new MutationObserver(B(e,1e3,{maxWait:500})),n=document.querySelector("body");n&&t.observe(n,{attributes:!1,childList:!0,subtree:!0})},On=["swiper-container","amap-container"],An=["rgba(255, 255, 255, 0)","rgba(255, 255, 255)","rgba(0, 0, 0, 0)","rgb(255, 255, 255)"],Rn=[],Mn=function(e){var t=e.node,n=e.isFixed,i=e.isClickAble,r=e.selector,o=t.getBoundingClientRect(),a=o.left,c=o.top,u=o.width,s=o.height,d=t.getBoundingClientRect(),l=function(e){var t=e.element,n=e.rect,i=e.win;if(!t||!window)return!1;for(var r=n.width,o=n.height,a=n.left,c=n.top,u=(n.bottom,n.right,0),s=[{x:a+1,y:c+1},{x:a+r/2,y:c+o/2},{x:a+r-1,y:c+o-1},{x:a+r-1,y:c+1},{x:a+1,y:c+o-1},{x:window.innerWidth/2,y:window.innerHeight/2}];u<s.length;u++)for(var d=s[u],l=i.document.elementFromPoint(d.x,d.y);l;){if(l===t)return!0;l=l.parentNode}return!1}({element:t,rect:d,win:window}),f=et({element:t,rect:d,win:window})&&l;return{left:a,top:c+window.scrollY,width:u,height:s,selector:r||le(t),isVisible:f,isInteractive:l,isFixed:n,isClickAble:i}},jn=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=!1),!/html2canvas\-container/i.test(null==e?void 0:e.className)){var i=getComputedStyle(e),o=i.backgroundColor,a=i.borderBlockStartStyle,c=i.backgroundImage,u=i.position,s=e.getBoundingClientRect(),d=s.width,l=s.height,f=window.innerWidth,v=Sn.has(e);0===t.length&&(Rn=[]),n="fixed"===u||n;var h,p,w,g=X(),m=g.pageWidth,y=g.pageHeight;if(h=r(e.classList),p=On,w=h.concat(p),xn(w).length!==w.length||v&&d&&l||(!An.includes(o)||"none"!==a)&&d>30&&d<f||"none"!==c&&d&&l&&(d<=.95*m||l<=.95*y))return null==Rn||Rn.push({node:e,selector:le(e),isFixed:n,isClickAble:v}),void t.push(Mn({node:e,isFixed:n,isClickAble:v}));if(e.children.length)for(var _=0;_<e.children.length;_++)jn(e.children[_],t,n);else d>30&&l>30&&(null==Rn||Rn.push({node:e,selector:le(e),isFixed:n,isClickAble:v}),t.push(Mn({node:e,isFixed:n,isClickAble:v})));return t}};function Pn(e){var t=e.messageId,n=e.useCache,i=void 0!==n&&n?Rn.map((function(e){return Mn(e)})):jn(document.body);(null===document||void 0===document?void 0:document.documentElement).clientHeight;return{type:"divide-get-data",messageId:t,data:i}}var Hn=[];function Nn(e,t){Cn?Cn({event:e,properties:t}):Hn.push({event:e,properties:t})}function Wn(){return n(this,void 0,void 0,(function(){return i(this,(function(e){return window.InsightVersion||(Ln(),rt(),function(){n(this,void 0,void 0,(function(){return i(this,(function(e){return window.self===window.top||window.addEventListener("message",(function(e){var t=e.data;if(t&&t.type){var n=t.type,i=t.data;if("$scrollTo"===n){var r=i.x,o=void 0===r?0:r,a=i.y;window.scrollTo(o,a)}}})),[2]}))}))}(),function(){n(this,void 0,void 0,(function(){var e,t=this;return i(this,(function(r){return window.self===window.top||(e=window.parent,window.addEventListener("message",(function(r){var o=r.data;return n(t,void 0,void 0,(function(){var t,r,a,c,u=this;return i(this,(function(s){switch(s.label){case 0:return o&&o.type?(t=o.type,r=o.data,a=o.messageId,"$componentImage"!==t?[3,3]:[4,(d="https://lf3-short.bytetos.com/obj/eden-cn/uhfuldpld/html2canvas.js",new Promise((function(e){var t,n;if(window){var i=window.document,r=i.createElement("iframe");r.style.height="0px",r.style.width="0px",i.body.appendChild(r);var o=null===(t=r.contentDocument)||void 0===t?void 0:t.createElement("script");o.async=!0,o.src=d,o.onload=function(){e(r)},null===(n=r.contentDocument)||void 0===n||n.head.appendChild(o)}})))]):[2];case 1:return c=s.sent(),ot=c.contentWindow,[4,F()];case 2:s.sent(),function(){return n(u,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,lt({messageId:a,targetList:r})];case 1:return t=n.sent(),window.document.body.removeChild(c),e.postMessage(t,"*"),[2]}}))}))}(),s.label=3;case 3:return[2]}var d}))}))}))),[2]}))}))}(),function(){var e=this;if(window.self!==window.top){var t,r=window.parent,o="",a=!1,c=0,u={time:(new Date).valueOf(),node:null},s=!1,d=function(){return n(e,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,$()];case 1:return e.sent(),window.addEventListener("scroll",B((function(){var e=Pn({messageId:o,useCache:!0});r.postMessage(e,"*");var n=X(),i=n.pageWidth,a=n.pageHeight;r.postMessage({type:"divide-page",messageId:o,data:{width:i,height:a,scrollTop:window.pageYOffset}},"*"),t&&clearTimeout(t),s=!0,t=setTimeout((function(){s=!1,clearTimeout(t)}),200)}),200,{maxWait:300}),{passive:!0,capture:!0}),window.addEventListener("mousemove",(function(e){if(!s)if(e.target){var t=e.target;if(!(u.node===t&&(new Date).valueOf()-u.time<3e3)){for(var n=t;(null==Rn?void 0:Rn.length)>0&&n&&!Rn.some((function(e){return e.node===n}))&&"body"!==n.nodeName.toLowerCase();)n=n.parentNode;"body"===n.nodeName.toLowerCase()&&(n=t);var i=le(n),a=n.getBoundingClientRect(),c=a.left,d=a.top,l=a.width,f=a.height;r.postMessage({messageId:o,type:"divide-mousemove",data:{left:c,top:d+window.scrollY,width:l,height:f,selector:i,clientY:e.clientY}},"*"),u={time:(new Date).valueOf(),node:t}}}else u={time:(new Date).valueOf(),node:null}})),window.addEventListener("click",(function(){setTimeout((function(){var e=Pn({messageId:o});r.postMessage(e,"*")}),0)})),[2]}}))}))};window.addEventListener("message",(function(t){var u=t.data;return n(e,void 0,void 0,(function(){var e,t=this;return i(this,(function(s){return u&&u.type?("$componentDivide"===u.type&&(o=u.messageId,a||(a=!0,d()),(e=function(){var e=Pn({messageId:o});r.postMessage(e,"*");var t=X(),n=t.pageWidth,i=t.pageHeight;r.postMessage({type:"divide-page",messageId:o,data:{width:n,height:i}},"*")})(),In((function(){return n(t,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return c>10?[2]:[4,ct(1e3)];case 1:return t.sent(),e(),c++,[2]}}))}))}))),[2]):[2]}))}))}))}}()),[2]}))}))}return function(){n(this,void 0,void 0,(function(){return i(this,(function(e){return window.InsightSDK={track:Nn,set:ie,setMode:oe,setSendType:Ge},window.seed={track:Nn,set:ie,setMode:oe,setSendType:Ge},function(){n(this,void 0,void 0,(function(){return i(this,(function(e){return Wn().catch((function(e){console.error(e)})),[2]}))}))}(),[2]}))}))}(),e.createTracker=ae,e.currentMode=ne,e.getAutoContext=re,e.initLogger=function(e){return n(this,void 0,void 0,(function(){var t,n,r,a,c,u,s,l,f,v,h;return i(this,(function(i){switch(i.label){case 0:return l=ae,f={sendLog:e||Qe},[4,Ve()];case 1:return t=l.apply(void 0,[(f.context=i.sent(),f)]),n=t.emitInitEvent,r=t.emitScrollEvent,a=t.emitClickEvent,c=t.emitLoadEvent,u=t.emitCloseEvent,s=t.track,Hn.forEach((function(e){var t=e.event,n=e.properties;s({event:t,properties:n})})),Cn=s,v=J((function(e){var t=function(e,t){if(!e)return 0;if(t===e.document)return e.pageYOffset;for(var n=t,i=0;n;){var r=n.scrollTop;i+=o(r,"number")?r:0,n=n.parentNode}return i}(window,e.target);r({scrollLeft:window.pageXOffset,scrollTop:t})}),200),window.addEventListener("scroll",v,{passive:!0,capture:!0}),window.document.addEventListener("click",(function(e){var t=e.clientX,n=e.clientY,i=e.target,r=function(e){var t=e.target,n=e.clientX,i=e.clientY;if(!t)return{layerX:0,layerY:0,width:0,height:0};var r=t.getBoundingClientRect();return{layerX:n-r.left,layerY:i-r.top,width:r.width,height:r.height}}({target:i,clientX:t,clientY:n}),o=r.layerX,c=r.layerY,u=r.width,s=r.height;a({layerX:o,layerY:c,clientX:t,clientY:n,width:u,height:s,brickIndex:fe(i),target:le(i)})}),{capture:!0}),h=function(e){return d({number:e,min:0,max:3e4})},F().then((function(){var e,t=window.performance.timing,n=(e={fp:-1,fcp:-1},Object.prototype.hasOwnProperty.call(window,"PerformancePaintTiming")?(window.performance.getEntriesByType("paint").forEach((function(t){"first-paint"===t.name?e.fp=Math.round(t.startTime+t.duration):"first-contentful-paint"===t.name&&(e.fcp=Math.round(t.startTime+t.duration))})),e):e),i=n.fp,r=n.fcp,o={redirect:h(t.redirectEnd-t.redirectStart),appcache:h(t.domainLookupStart-t.fetchStart),dns:h(t.domainLookupEnd-t.domainLookupStart),tcp:h(t.connectEnd-t.connectStart),request:h(t.responseStart-t.requestStart),response:h(t.responseEnd-t.responseStart),processing:h(t.domComplete-t.domLoading),ttfb:h(t.responseStart-t.navigationStart),blank:h(t.domLoading-t.navigationStart),fp:h(i),fcp:h(r),domready:h(t.domContentLoadedEventStart-t.navigationStart)};c({load:h(t.loadEventStart-t.navigationStart),extra:o})})),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&u({})})),Oe&&(window.ToutiaoJSBridge.on("invisible",(function(){u({})})),window.ToutiaoJSBridge.on("close",(function(){u({})}))),n({}),window.InsightSDK={track:Nn,set:ie,setMode:oe,setSendType:Ge},Object.freeze(window.InsightSDK),window.seed={track:Nn,set:ie,setMode:oe,setSendType:Ge},window.InsightVersion="0.0.11",console.log("_____________InsightVersion_____________","0.0.11"),[2]}}))}))},e.outerContext=te,e.setContextProperty=ie,e.setMode=oe,e}({});
